import XCTest
@testable import ARKitFaceExample

class BiteDetectorTest: XCTestCase {
    
    func testStartDetectingBiteWhenValueGoesAboveThreshold() {
        let delegate = SpyBiteDetectorDelegate()
        let detector = BiteDetector(delegate: delegate)

        for value in input {
            detector.input(value: value)
        }

        XCTAssertEqual(5, delegate.biteDetectedCallCount)
    }
    
    class SpyBiteDetectorDelegate: BiteDetectorDelegate {
        
        var biteDetectedCallCount = 0
        
        func biteDetected() {
            biteDetectedCallCount += 1
        }
    }

    let input = [3.0402, 3.0363, 3.03558, 3.03063, 3.0299, 3.02796, 3.0262, 3.02382, 3.0073, 3.00677, 3.00757, 3.00762, 3.01066, 3.01622, 3.02, 3.02392, 3.02784, 3.02645, 3.03116, 3.03017, 2.98857, 2.97481, 2.96224, 2.90533, 2.89336, 2.99383, 3.01505, 3.03129, 3.03964, 3.04542, 3.04901, 3.0504, 3.05169, 3.05236, 3.0499, 3.0452, 3.03927, 3.0377, 3.03904, 3.04001, 3.04982, 3.06349, 3.06935, 3.07544, 3.08094, 3.0869, 3.09047, 3.09392, 3.09537, 3.09357, 3.09415, 3.09554, 3.08052, 3.07462, 3.07378, 3.07441, 3.09311, 3.09789, 3.10051, 3.10116, 3.0993, 3.09781, 3.0969, 3.09721, 3.10233, 3.10369, 3.1055, 3.108, 3.10852, 3.10987, 3.10321, 3.10162, 3.103, 3.10281, 3.10269, 3.1053, 3.10713, 3.1091, 3.10764, 3.10497, 3.10272, 3.10125, 3.09706, 3.09723, 3.0973, 3.09921, 3.10494, 3.10872, 3.11067, 3.11053, 3.11505, 3.1267, 3.12808, 3.12947, 3.13033, 3.12876, 3.12826, 3.12731, 3.12609, 3.12006, 3.10863, 3.104, 3.1013, 3.10083, 3.09416, 3.08816, 3.08379, 3.0819, 3.08068, 3.07961, 3.07615, 3.06398, 3.04414, 3.03769, 3.02154, 2.88066, 2.8433, 3.14524, 3.35693, 3.58083, 3.83657, 4.06561, 4.213, 4.54851, 4.97581, 5.26016, 5.14565, 5.23857, 5.38467, 5.99551, 6.1665, 6.09792, 6.27161, 6.32218, 6.38492, 6.43524, 6.55947, 6.30603, 5.65916, 5.07009, 4.38384, 3.36936, 2.76173, 2.34239, 2.5952, 3.05357, 3.54182, 3.71368, 3.75984, 3.18741, 2.70488, 2.59172, 2.74707, 2.92226, 3.07681, 3.11659, 3.13348, 3.06752, 3.04288, 2.72009, 2.54707, 2.7208, 2.80638, 2.79294, 2.42881, 2.52229, 2.84259, 3.08089, 3.16374, 3.05937, 3.02378, 2.97581, 2.73693, 2.3504, 2.23621, 2.59286, 2.74983, 2.7393, 2.84969, 3.04814, 3.19119, 3.24639, 3.27338, 3.27468, 3.26786, 3.06233, 2.63141, 2.36159, 2.45336, 2.56406, 2.73989, 2.90323, 3.10001, 3.23604, 3.27439, 3.23629, 3.19935, 3.12121, 3.00118, 2.57875, 2.42959, 2.51697, 2.6413, 2.74493, 2.809, 3.04407, 3.18627, 3.23885, 3.26288, 3.26115, 3.21255, 3.09392, 2.73914, 2.57614, 2.45793, 2.47362, 2.52399, 2.64898, 2.85652, 3.07804, 3.22453, 3.25069, 3.15707, 3.13102, 3.06201, 2.99398, 2.69404, 2.42785, 2.33255, 2.45459, 2.6718, 2.85299, 2.98524, 3.0806, 3.11383, 3.12123, 3.12823, 3.11974, 2.8155, 2.72225, 2.54552, 2.53158, 2.62588, 2.83603, 3.03929, 3.17687, 3.25023, 3.25694, 3.23101, 3.20454, 3.2001, 3.19562, 3.14124, 2.92182, 2.87688, 2.72854, 2.68325, 2.53496, 2.58035, 2.77669, 2.99524, 3.22409, 3.2827, 3.26045, 3.23229, 3.21922, 3.21473, 3.15492, 2.93318, 2.80062, 2.66702, 2.59834, 2.75868, 3.01255, 3.27686, 3.3786, 3.37121, 3.35172, 3.33299, 3.31615, 3.30646, 3.30052, 3.2956, 3.33712, 3.35199, 3.30687, 3.29992, 3.30103, 3.26314, 3.17323, 3.08862, 3.03751, 3.09215, 3.31282, 3.41648, 3.54582, 3.64385, 4.3715, 4.40721, 5.22675, 5.52943, 5.89908, 6.26614, 6.43587, 6.37746, 6.20625, 5.97186, 5.75169, 5.44351, 5.34264, 5.01785, 4.78116, 3.75, 3.27941, 3.04899, 2.70129, 2.55598, 2.33287, 2.3401, 2.71588, 2.85909, 3.00652, 2.91847, 2.4835, 2.607, 2.82637, 3.01005, 3.03938, 2.97032, 2.96611, 2.55715, 2.3391, 2.54795, 2.56725, 2.52272, 2.84495, 3.08814, 3.19706, 3.17437, 3.10861, 3.07542, 2.99012, 2.53073, 2.40889, 2.54881, 2.5944, 2.55929, 2.83216, 3.02745, 3.13267, 3.16142, 3.08759, 3.03389, 2.97532, 2.53621, 2.11065, 2.26746, 2.62852, 2.54042, 2.43858, 2.72343, 2.98764, 3.13547, 3.21286, 3.19182, 3.07797, 2.95671, 2.87242, 2.57894, 2.40796, 2.47112, 2.52113, 2.57188, 2.53338, 2.67803, 2.95636, 3.22197, 3.26889, 3.254, 3.19039, 3.15628, 2.92302, 2.60906, 2.45409, 2.54976, 2.5481, 2.72548, 2.89769, 2.97443, 3.04789, 3.07094, 3.01271, 2.98738, 2.97754, 2.93404, 2.59709, 2.32118, 2.49639, 2.55089, 2.70658, 2.88299, 2.99353, 3.11956, 3.15804, 3.14117, 3.10722, 3.05451, 2.898, 2.64643, 2.34602, 2.38339, 2.58638, 2.81386, 2.99397, 3.14232, 3.21036, 3.24049, 3.22628, 3.20823, 3.09493, 3.02045, 2.62516, 2.32044, 2.30476, 2.45512, 2.50652, 2.5781, 2.97286, 3.2603, 3.27183, 3.22989, 3.19478, 3.17676, 3.16693, 3.16354, 2.82718, 2.46184, 2.32567, 2.39982, 2.48763, 2.82712, 3.16936, 3.34742, 3.37122, 3.34935, 3.31456, 3.29008, 3.27522, 3.26371, 3.25367, 2.93238, 2.67813, 2.49624, 2.43112, 2.43043, 2.48348, 2.78634, 3.05126, 3.25388, 3.313, 3.31697, 3.3156, 3.30291, 3.28147, 3.26901, 3.2522, 3.02559, 2.75053, 2.56692, 2.57442, 2.69365, 3.00007, 3.25799, 3.33793, 3.35557, 3.35387, 3.34798, 3.33853, 3.3242, 3.31432, 3.30839, 3.30399, 3.29867, 3.29527, 3.29276, 3.28981, 3.28225, 3.26945, 3.26512, 3.2623, 3.25755, 3.24977, 3.24533, 3.23823, 3.22504, 3.2084, 3.14774, 3.22123, 3.2874, 3.35692, 3.35644, 3.2465, 3.20181, 3.22406, 3.23447, 3.2352, 3.23501, 3.23396, 3.22951, 3.22491, 3.21779, 3.21016, 3.16322, 3.04553, 2.88548, 2.75146, 2.66848, 2.67112, 2.77814, 2.99566, 3.10709, 3.21, 3.26705, 3.28882, 3.28801, 3.28646, 3.28343, 3.27994, 3.2737, 3.268, 3.25865, 3.25139, 3.24447, 3.23493, 3.22799, 3.22155, 3.20011, 3.16421, 3.12747, 3.05543, 3.07532, 3.16539, 3.21281, 3.27735, 3.30484, 3.30949, 3.26214, 3.23144, 3.22722, 3.21275, 3.20368, 3.20098, 3.19773, 3.19319, 3.18751, 3.18432, 3.18719, 3.17856, 3.12921, 3.01455, 3.12509, 3.27597, 3.40081, 3.45887, 3.61158, 3.61603, 3.81535, 4.14508, 4.33083, 5.28632, 5.0088, 5.29164, 5.27172, 5.68598, 6.33008, 6.52701, 6.55667, 6.59088, 6.32943, 6.00353, 5.60125, 5.35594, 4.78023, 4.17397, 3.42385, 3.10009, 2.58238, 2.41, 2.5981, 2.84113, 3.08859, 3.04673, 2.74131, 2.50482, 2.65758, 2.87137, 3.09855, 3.21836, 3.2642, 3.26965, 3.2638, 3.25851, 3.18412, 2.7249, 2.59046, 2.79757, 2.90049, 2.88265, 2.69028, 2.71117, 2.89885, 3.08313, 3.14656, 3.15702, 3.14174, 3.11621, 2.96107, 2.25465, 2.12279, 2.4953, 2.63271, 2.52676, 2.65898, 2.99234, 3.11797, 3.18316, 3.16126, 3.13032, 3.05773, 3.04876, 2.63468, 2.38475, 2.45156, 2.52557, 2.6037, 2.81786, 3.09336, 3.28302, 3.32541, 3.31263, 3.2976, 3.27271, 3.24191, 2.91323, 2.55732, 2.4597, 2.5298, 2.65543, 2.82887, 3.06345, 3.24773, 3.30513, 3.28024, 3.19562, 3.13777, 3.08804, 2.93616, 2.54929, 2.39335, 2.48537, 2.58037, 2.73393, 3.00211, 3.15717, 3.20924, 3.22616, 3.16273, 3.07772, 3.0435, 3.04458, 3.02725, 2.71393, 2.39518, 2.43006, 2.44866, 2.54677, 2.66826, 2.85399, 3.12151, 3.23058, 3.26905, 3.21439, 3.18838, 3.1776, 3.15108, 2.99166, 2.65201, 2.3966, 2.27786, 2.26528, 2.45866, 2.57194, 2.89349, 3.28639, 3.33727, 3.28753, 3.23675, 3.20873, 3.18802, 3.18101, 3.18154, 3.00615, 2.78808, 2.56323, 2.51892, 2.65084, 2.96828, 3.2233, 3.39522, 3.43121, 3.43469, 3.39843, 3.3766, 3.36313, 3.35598, 3.35055, 3.14429, 2.97775, 2.93148, 2.77175, 2.72, 2.80117, 3.03218, 3.30154, 3.46096, 3.49071, 3.48573, 3.47174, 3.437, 3.40614, 3.39244, 3.38162, 3.377, 3.37045, 3.36317, 3.35585, 3.3378, 3.30933, 3.27696, 3.22116, 3.17199, 3.1543, 3.13447, 3.08567, 3.00961, 2.94797, 2.76258, 2.77962, 3.0423, 3.11119, 3.12583, 3.22628, 3.28417, 3.11645, 3.14566, 3.22029, 3.23669, 3.23533, 3.2316, 3.2287, 3.21075, 3.08123, 2.93177, 3.33388, 3.71153, 3.79662, 4.87463, 5.24228, 5.18961, 5.32489, 6.12516, 6.53893, 6.56559, 6.53797, 6.434, 6.40579, 6.28628, 5.82312, 5.24356, 4.72449, 4.08537, 3.62495, 3.29098, 3.03278, 2.94022, 3.04845, 3.05586, 3.10714, 3.10736, 2.73508, 2.48559, 2.5619, 2.80469, 2.99995, 3.10706, 3.14684, 3.12244, 3.05424, 2.97892, 2.69911, 2.26667, 2.2103, 2.39798, 2.44003, 2.47155, 2.62449, 2.92395, 3.20558, 3.27043, 3.26508, 3.2533, 3.21895, 2.87882, 2.40591, 2.3344, 2.51078, 2.63653, 2.59015, 2.39476, 2.41153, 2.72165, 2.93639, 3.11278, 3.1346, 3.14336, 3.13265, 3.10532, 2.8551, 2.57991, 2.58446, 2.74927, 2.81396, 2.98787, 3.11113, 3.22574, 3.22037, 3.20551, 3.10539, 3.05497, 3.00299, 2.97641, 2.75597, 2.61836, 2.52265, 2.48408, 2.63641, 2.68623, 2.66731, 2.59192, 2.6866, 2.82081, 2.83883, 2.89286, 2.89733, 2.90568, 2.92445, 2.9242, 2.79902, 2.32343, 2.31623, 2.40703, 2.46816, 2.64501, 2.93421, 3.07305, 3.19771, 3.22874, 3.18828, 3.09432, 3.04091, 2.99654, 2.76042, 2.64919, 2.53506, 2.51612, 2.56684, 2.52791, 2.62802, 2.84039, 3.00533, 3.08332, 3.0755, 3.08126, 3.04772, 3.03476, 2.93799, 2.62909, 2.36946, 2.35246, 2.41322, 2.4419, 2.40923, 2.54375, 2.85987, 3.00937, 3.07889, 3.0929, 3.06718, 3.04517, 2.9533, 2.93798, 2.76216, 2.56101, 2.40675, 2.32387, 2.36911, 2.43324, 2.49867, 2.47152, 2.6971, 2.94574, 3.07416, 3.0733, 3.00366, 2.9432, 2.86741, 2.85881, 2.86024, 2.60143, 2.47118, 2.40718, 2.51742, 2.48237, 2.4915, 2.69056, 2.96435, 3.17869, 3.21368, 3.15221, 3.10072, 3.03991, 2.91943, 2.72051, 2.40256, 2.31909, 2.24583, 2.24258, 2.31339, 2.41078, 2.48996, 2.67482, 2.92766, 3.06551, 3.11192, 3.07607, 3.05979, 3.0505, 2.98395, 2.9205, 2.67444, 2.52231, 2.42436, 2.4065, 2.497, 2.57407, 2.73408, 2.96677, 3.1132, 3.2148, 3.24285, 3.23264, 3.19033, 3.15568, 3.07099, 2.99624, 2.63034, 2.41665, 2.26405, 2.25819, 2.35394, 2.42017, 2.61262, 2.89477, 3.12518, 3.27253, 3.31802, 3.30393, 3.28351, 3.26195, 3.24547, 3.23504, 3.22891, 3.22504, 3.22202, 3.09573, 3.02022, 2.9562, 2.92072, 2.90236, 2.8874, 2.88757, 2.88753, 2.89446, 2.83971, 2.77137, 2.61869, 2.57525, 2.55091, 2.57449, 2.67478, 2.89931, 3.1328, 3.27223, 3.3229, 3.34068, 3.3285, 3.30108, 3.28971, 3.28291, 3.27786, 3.24131, 3.02981, 2.91391, 2.6934, 2.54992, 2.50732, 2.62748, 2.86097, 3.14038, 3.26787, 3.3174, 3.33538, 3.33736, 3.33514, 3.32755, 3.31661, 3.3057, 3.29869, 3.28846, 3.25755, 3.17439, 3.03179, 2.94339, 2.92805, 2.9948, 3.02434, 3.03286, 3.00942, 2.96699, 2.93703, 2.91799, 2.99364, 3.10478, 3.24036, 3.30412, 3.33374, 3.34464, 3.34684, 3.34581, 3.34224, 3.33516, 3.3279, 3.31533, 3.27062, 3.13518, 3.0198, 2.94249, 2.82568, 2.67139, 2.60775, 2.57616, 2.64706, 2.90288, 3.08232, 3.1651, 3.25669, 3.276, 3.26934, 3.25833, 3.24012, 3.22719, 3.21267, 3.18996, 3.03957, 3.00549, 3.30606, 3.56395, 3.80832, 3.9491, 3.96362, 4.29478, 4.77543, 5.11701, 5.68783, 6.09346, 5.98971, 5.95351, 6.25748, 6.57437, 6.60336, 6.46712, 6.47303, 6.41516, 6.15353, 5.65693, 5.3035, 5.19343, 4.93663, 4.12919, 3.61502, 3.25276, 2.56181, 2.32656, 2.29237, 2.31946, 2.43908, 2.61966, 2.83739, 3.14545, 3.28577, 3.50036, 3.62123, 3.70709, 3.67284, 3.10806, 2.56066, 2.48828, 2.74131, 2.94146, 3.02658, 2.9931, 2.98776, 2.93764, 2.85282, 2.56434, 2.13464, 2.21329, 2.87711, 3.20784, 3.08703, 2.70939, 2.51913, 2.69758, 2.95419, 3.00272, 2.968, 2.95614, 2.93332, 2.67914, 2.1943, 2.28347, 2.73357, 2.65125, 2.44095, 2.59285, 2.79417, 3.064, 3.15828, 3.17027, 3.11578, 3.02651, 2.76998, 2.41798, 2.36065, 2.43022, 2.59047, 2.85734, 3.01285, 3.13095, 3.10121, 3.00173, 2.95643, 2.93106, 2.63019, 2.52171, 2.26211, 2.25534, 2.52953, 2.53828, 2.48754, 2.67843, 2.94473, 3.19861, 3.25162, 3.1999, 3.18255, 3.17008, 3.12413, 2.63925, 2.37379, 2.43567, 2.57562, 2.51797, 2.443, 2.35267, 2.50178, 2.6446, 2.85303, 3.02466, 2.95027, 2.88073, 2.85971, 2.84681, 2.6935, 2.45301, 2.37401, 2.36223, 2.50345, 2.52748]
}
