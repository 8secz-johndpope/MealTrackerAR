import XCTest
@testable import ARKitFaceExample

class ChewDetectorTest: XCTestCase {

    func testDetectChew() {
        let delegate = SpyChewDetectorDelegate()
        let detector = ChewDetector(delegate: delegate)

        for value in inputs {
            detector.input(value: value)
        }

        XCTAssertEqual(8, delegate.chewDetectedCallCount)
    }

    func testDetectChew2() {
        let delegate = SpyChewDetectorDelegate()
        let detector = ChewDetector(delegate: delegate)

        for value in input2 {
            detector.input(value: value)
        }

        XCTAssertEqual(9, delegate.chewDetectedCallCount)
    }

    class SpyChewDetectorDelegate: ChewDetectorDelegate {
        
        var chewDetectedCallCount = 0
        
        func chewDetected() {
            chewDetectedCallCount += 1
        }
    }

    let inputs = [-2.25873, -2.23482, -2.22614, -2.21955, -2.21693, -2.20361, -2.19302, -2.18642, -2.18337, -2.1806, -2.17745, -2.1712, -2.1478, -2.10928, -2.09508, -2.05941, -1.73697, -1.60698, -1.64794, -1.60975, -1.60196, -1.49846, -1.38157, -1.28573, -1.22091, -1.60364, -1.45324, -1.12111, -1.12986, -1.12894, -1.28345, -1.35628, -1.42106, -1.60628, -1.71995, -1.96165, -2.08218, -2.26157, -2.31283, -2.33951, -2.33149, -2.18135, -1.2476, -0.804836, -0.124176, 0.240219, 0.298906, 0.119835, 0.0832794, 0.0147378, 0.0873804, -0.265496, -0.734936, -1.40543, -1.99402, -2.44858, -2.57572, -2.62453, -2.48877, -2.4214, -1.37573, -0.321313, 0.301593, 0.679674, 0.625654, 0.279464, -0.719826, -1.64624, -2.28318, -2.52449, -2.33891, -2.26953, -2.1708, -1.65486, -0.65878, 0.0708201, 0.310514, 0.445744, 0.00936675, -0.947023, -1.79077, -2.36035, -2.62215, -2.7385, -2.77063, -2.76769, -2.34912, -0.987184, -0.0446942, 0.0965602, -0.0241053, -0.627804, -1.54865, -2.16027, -2.59866, -2.74517, -2.69856, -2.63601, -2.48284, -2.21641, -1.12898, -0.485111, -0.173136, -0.266945, -0.689283, -1.29722, -2.0029, -2.46968, -2.64988, -2.73541, -2.75264, -2.66636, -2.42523, -1.49786, -0.918339, -0.374424, -0.128628, -0.107188, -0.573952, -1.49256, -2.11575, -2.56324, -2.67702, -2.51301, -2.46546, -2.32496, -2.1784, -1.48335, -0.482305, -0.0468295, -0.141996, -0.586393, -1.26485, -1.80056, -2.13265, -2.26933, -2.32173, -2.35501, -2.34954, -1.63842, -1.4086, -0.859173, -0.377916, -0.447987, -1.09553, -1.79792, -2.24575, -2.5187, -2.58965, -2.56932]

    let input2 = [-1.04402, -1.04143, -1.0496, -1.06798, -1.08788, -1.11011, -1.12682, -1.13166, -1.13857, -1.14564, -1.15902, -1.1637, -1.18343, -1.25457, -1.30572, -1.3248, -1.33318, -1.33784, -1.33901, -1.33864, -1.33864, -1.33646, -1.33503, -1.32447, -1.32002, -1.31973, -1.32749, -1.33395, -1.33542, -1.33545, -1.33387, -1.33567, -1.35147, -1.35551, -1.35628, -1.35207, -1.34921, -1.32649, -1.31678, -1.31031, -1.29883, -1.29436, -1.28661, -1.28396, -1.28007, -1.2758, -1.27246, -1.2697, -1.26715, -1.26543, -1.26355, -1.26296, -1.24926, -1.24373, -1.24208, -1.2414, -1.23157, -1.21225, -1.17877, -1.07861, -0.903937, -0.738536, -0.831217, -0.929826, -0.971662, -1.01407, -1.10338, -1.16433, -1.25085, -1.27957, -1.30311, -1.316, -1.32353, -1.3071, -1.30375, -1.30251, -1.30582, -1.30429, -1.30468, -1.30611, -1.30597, -1.30112, -1.30043, -1.28536, -1.29202, -1.32255, -1.33784, -1.37255, -1.38973, -1.42226, -1.48953, -1.67037, -1.9099, -2.05503, -2.05188, -1.83902, -1.69766, -1.55591, -1.44357, -1.31652, -1.30314, -1.30659, -1.39607, -1.30725, -1.1823, -1.68232, -1.67744, -1.68328, -1.24942, -1.10369, -1.31076, -1.38864, -1.57029, -1.66616, -1.78375, -1.85654, -1.936, -2.04965, -2.13991, -2.19616, -2.31281, -2.35167, -2.38698, -2.4135, -2.42401, -2.42584, -2.34419, -2.32001, -2.3021, -2.21756, -2.18161, -1.9685, -1.73994, -1.42889, -1.29522, -1.16332, -0.927996, -0.806968, -0.718498, -0.678769, -0.868563, -1.0287, -1.1953, -1.44595, -1.59988, -1.73029, -1.87868, -2.05168, -2.11531, -2.16157, -2.27591, -2.30644, -2.32294, -2.32949, -2.30885, -2.28694, -2.13756, -1.9004, -1.64214, -1.51023, -1.30343, -1.16597, -1.05269, -1.00376, -1.00342, -1.03965, -1.22048, -1.37909, -1.53716, -1.64597, -1.72945, -1.83505, -1.87264, -1.89288, -1.90471, -1.91024, -1.9036, -1.89354, -1.86335, -1.76615, -1.72757, -1.69385, -1.57802, -1.3495, -1.05946, -0.794733, -0.554219, -0.446398, -0.417817, -0.372587, -0.381382, -0.431697, -0.547409, -0.862949, -1.02439, -1.25982, -1.5145, -1.67527, -1.77002, -1.89328, -2.31995, -2.3988, -2.44974, -2.48537, -2.50416, -2.5143, -2.51876, -2.51201, -2.45146, -2.18776, -1.83016, -1.5199, -1.35237, -1.15125, -0.968711, -0.827768, -0.700849, -0.64056, -0.59639, -0.556072, -0.535994, -0.540163, -0.556803, -0.579791, -0.654434, -0.678946, -0.728408, -0.843935, -1.12029, -1.26002, -1.41028, -1.55591, -1.71603, -1.88593, -1.97437, -2.04762, -2.09054, -2.1131, -2.12432, -2.12375, -2.10719, -1.98429, -1.92855, -1.77262, -1.67383, -1.6093, -1.54975, -1.4781, -1.40187, -1.17883, -0.92126, -0.750515, -0.677518, -0.638451, -0.601298, -0.577575, -0.571184, -0.588911, -0.849158, -0.94595, -1.1922, -1.32057, -1.55432, -1.72003, -1.89144, -1.99108, -2.07567, -2.12554, -2.15353, -2.18728, -2.19989, -2.20311, -2.19747, -2.19234, -2.17426, -2.164, -2.13121, -1.95165, -1.9199, -1.92809, -1.92905, -1.952, -1.9691, -1.97262, -1.97343, -1.96634, -1.92294, -1.64061, -1.50984, -1.32104, -1.25217, -1.19988, -1.18275, -1.19291, -1.33259, -1.40762, -1.64194, -1.73505, -1.79264, -1.82123, -1.87875, -1.89884, -1.90437, -1.9258, -1.94041, -1.94843, -1.95053, -1.95211, -1.95213, -1.95266, -1.95106, -1.93763, -1.92462, -1.87911, -1.78067, -1.57973, -1.4611, -1.19255, -1.11687, -1.07547, -1.06868, -1.10331, -1.21254, -1.37991, -1.54616, -1.65784, -1.84497, -1.91727, -1.99486, -2.05848, -2.12505, -2.17106, -2.19081, -2.30181, -2.3342, -2.35088, -2.3416, -2.30426, -2.24784, -2.19208, -2.10271, -2.02776, -1.73546, -1.62294, -1.53941, -1.32088, -1.25494, -1.22264, -1.20163, -1.19183, -1.16547, -1.2546, -1.41716, -1.52506, -1.79587, -1.89106, -1.97838, -2.09289, -2.16141, -2.26165, -2.31377, -2.38793, -2.41531, -2.43048, -2.43933, -2.44399, -2.44678, -2.44893, -2.44981, -2.45097, -2.45299, -2.44515, -2.42332, -2.40313, -2.35888, -2.33763, -2.31044, -2.2581, -1.99379, -1.37752, -0.916552, -0.7558, -0.689111, -0.715335, -0.754211, -0.769528, -0.776874, -0.839201, -1.15004, -1.30002, -1.3829, -1.40316, -1.40624, -1.40531, -1.37236, -1.35752, -1.35766, -1.3785, -1.45742, -1.52883]
}
