name = 'Payloads9annotated.csv';

% Read CSV
data = csvread(name,1,0);
data = data(:,1:28);

% Annotate Movement
movement = data(:,28);
ranges = [313,314,315,477,313,314,315,476,477,478,479,480,535,536,537,545,546,547,548,549,216,217,218,219,220,221,222,223,224,225,226,227,228,229,256,257,258,259,283,284,285,286,287,288,289,290,310,311,312,313,338,339,340,341,342,343,344,365,366,367,368,369,370,396,397,398,399,400,401,402,403,404,405,406,407,408,409,410,440,441,442,443,444,445,446,447,448,474,475,504,505,506,507,622,623,624,656,657,658,686,687,537,538,539,540,658,659,660,661,662,663,690,691,692,831,832,833,834,835,836,837,838,839,840,863,864,865,866,894,895,896,897,898,899,900,901,902,903,904,905,906,907,1294,1295,1296,1325,1326,1327,1328,1428,1429,1430,1431,1432,1433,1434,1435,1436,831,832,833,834,835,836,837,861,862,863,864,865,866,867,889,890,891,892,893,894,895,896,897,898,899,900,901,902,930,931,932,933,934,935,936,967,968,969,970,971,972,973,974,975,999,1000,1001,1002,1026,1027,1028,1056,1057,1058,1059,1060,1061,1085,1086,1087,1199,1200,1201,1202,1203,1204,1205,1206,1207,1291,1292,1293,1294,1295,1296,1360,1361,1362,1363,1364,1389,1390,1391,1392,1393,1394,1395,832,833,834,835,836,864,892,893,894,895,896,897,898,899,900,901,902,933,934,935,969,970,971,972,973,974,975,1056,1057,1058,1059,1060,1086,1087,1201,1202,1203,1204,1205,1206,1207,960,961,962,963,964,965,966,967,968,969,970,971,972,998,999,1000,1024,1025,1026,1027,1028,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1114,1115,1116,1117,1144,1145,1146,1147,1148,1170,1171,1172,1173,1200,1201,1202,1203,1204,1205,1206,1207,1256,1257,1258,1259,1260,1261,1290,1291,1292,1293,1294,1295,1321,1322,1323,1387,1388,1457,1458,1459,1460,1325,1326,1327,786,787,788,789,790,834,835,1761,1762,1763,1764,1823,1824,1825,1826,1827,1756,1757,1758,1759,1760,1761,1762,1763,1764,1765,1796,1797,1798,1799,2042,2043,2044,2072,2280,2281,2282,2283,2284,2285,2286,2287,2288,2289,2346,2347,2348,2349,2350,2384,2385,2386,2387,2388,1758,1759,1760,1761,1762,1763,1764,1765,2043,2044,1819,1820,1821,1822,1823,1824,1825,1826,1827,1828,1829,1830,1831,1851,1852,1853,1854,1855,1856,1857,1880,1881,1910,1911,1912,1913,1914,1915,1916,1917,1918,1919,1943,1944,1945,1946,1947,1948,1949,1950,1951,1976,1977,1978,1979,2007,2008,2009,2010,2011,2037,2038,2039,2040,2041,2042,2067,2068,2069,2070,2101,2102,2103,2104,2105,2106,2107,2108,2135,2136,2137,2138,2163,2164,2165,2166,2167,2168,2169,2206,2207,2208,2209,2210,2211,2212,2213,2214,2215,2216,2217,2218,2219,2220,2221,2222,2223,2224,2225,2226,2227,2228,2229,2230,2257,2258,2259,2260,2281,2282,2283,2313,2314,1761,1762,1763,1764,1824,1825,1826,2546,2841,2842,2843,3026,3027,3028,3029,3030,3031,3032,2510,2511,2512,2513,2543,2544,2545,2546,2547,2548,2549,2550,2551,2552,2839,2840,2841,2842,2843,2844,2845,2867,2868,2869,2870,2871,2872,2899,2900,2901,2902,2903,2926,2927,2928,2961,2962,2963,2964,2965,2966,2967,2968,2969,2970,2513,2514,2841,2842,2843,2844,2900,2901,2902,2927,2928,2929,2965,2966,2967,2968,2969,2970,3063,3064,3065,3066,3067,3068,3069,2654,2655,2656,2657,2658,2659,2686,2687,2716,2717,2718,2719,2720,2721,2751,2752,2753,2779,2780,2781,2806,2807,2808,2809,2810,2811,2812,2813,2868,2869,2870,2871,2872,2873,2894,2895,2896,2897,2898,2899,2900,2901,2902,2903,2923,2924,2925,2926,2927,2928,2962,2963,2964,2965,2966,2967,2968,2969,2970,2971,2985,2986,2987,2988,2989,2990,2991,2992,2993,2994,2995,2996,2997,3017,3018,3019,3020,3021,3022,3081,3082,3083,3084,3085,3086,3087,3088,3089,3090,3091,3092,3093,3094,3095,3096,3097,3098,3120,3121,3122,3123,3124,3125,3126,3127,3128,3129,3130,3131,3132,3133,3134,3135,3136,3137,2483,2484,2485,2486,2487,2488,2511,2512,2543,2544,2545,2546,2547,2548,2549,2550,2551,2552,2586,2587,2588,2589,2590,2591,2622,2623,2624,2625,2626,3237,3238,3239,3240,3241,3242,3270,3271,3272,3273,3274,3275,3396,3397,3398,3399,3400,3428,3429,3457,3458,3571,3572,3573,3574,3603,3604,3605,3606,3607,3608,3641,3642,3643,3334,3335,3336,3337,3338,3339,3368,3369,3370,3267,3268,3269,3270,3271,3272,3273,3299,3300,3301,3302,3336,3337,3338,3339,3340,3369,3370,3371,3372,3395,3396,3397,3398,3399,3400,3401,3422,3423,3424,3425,3426,3427,3428,3429,3430,3431,3432,3433,3455,3456,3457,3458,3459,3483,3484,3485,3486,3512,3513,3514,3515,3516,3541,3542,3543,3544,3545,3568,3569,3570,3571,3572,3573,3574,3575,3576,3577,3578,3599,3600,3601,3602,3603,3604,3605,3606,3607,3608,3268,3269,3270,3271,3272,3273,3301,3333,3334,3335,3336,3337,3338,3339,3340,3369,3370,3371,3396,3397,3398,3399,3400,3427,3428,3429,3430,3431,3432,3456,3457,3458,3459,3484,3485,3486,3487,3513,3514,3515,3570,3571,3572,3573,3574,3575,3600,3601,3602,3603,3604,3605,3606,3607,3608,3208,3209,3210,3211,3212,3213,3214,3215,3216,3217,3218,3219,3220,3221,3222,3223,3224,3300,3208,3209,3224,3225,3226,3227,3228,3229,3230,3333,3334,3335,3336,3337,3338,3368,3369,3370];
movement(ranges) = 2;
data = data(:,1:27);
data = cat(2,data,movement);

% Write CSV
header = ["jawOpen","mouthLowerDown_R","mouthLowerDown_L","mouthStretch_R","mouthStretch_L","mouthPucker","mouthFrown_R","mouthFrown_L","mouthClose","mouthFunnel","mouthUpperUp_L","mouthUpperUp_R","jawForward","mouthShrugLower","mouthShrugUpper","jawRight","jawLeft","mouthDimple_L","mouthDimple_R","mouthRollLower","mouthRollUpper","mouthLeft","mouthRight","mouthSmile_L","mouthSmile_R","mouthPress_L","mouthPress_R","movement"];
textHeader = strjoin(header, ',');
fid = fopen(name,'w'); 
fprintf(fid,'%s\n',textHeader);
fclose(fid);
dlmwrite(name, data, '-append');